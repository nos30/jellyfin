/*
================================================================================
|                                                                              |
|                         TH√àME PERSONNALIS√â JELLYFIN                          |
|                    Styles de la Page de Connexion (loginpage.css)           |
|                                                                              |
================================================================================
*/

/* ~~~~~~~~~~~~~~~~~~~~ PAGE DE CONNEXION - DISPOSITION G√âN√âRALE & ARRI√àRE-PLAN ~~~~~~~~~~~~~~~~~~~~ */

/* Style du conteneur principal de la page de connexion */
#loginPage .padded-left.padded-right.padded-bottom-page {
  margin: 0 auto !important;                    /* Centre la bo√Æte de connexion */
  background: rgba(0, 0, 0, 0.35) !important;   /* Fond noir semi-transparent pour la bo√Æte */
  width: 45em !important;                       /* Largeur fixe de la bo√Æte de connexion */
  border-radius: 15px !important;               /* Coins arrondis pour la bo√Æte */
}

/* Style de la page de connexion globale */
body:has(#loginPage) .backdropContainer {
    background: var(--background-image, url(https://i.imgur.com/Ewk3Pqw.png)) !important;  /* Image de fond personnalisable */
    background-size: cover !important;            /* Image couvre tout l'√©cran */
    background-position: center !important;       /* Image centr√©e */
    filter: blur(5px) brightness(.5);            /* Flou l√©ger + assombrissement √† 50% */
    animation: fadeIn 1s ease-in;                 /* Animation d'apparition en 1 seconde */
    z-index: -2;                                  /* Place l'arri√®re-plan derri√®re tout */
}

#loginPage .padded-bottom-page {
    padding-bottom: 1em !important;               /* Espacement en bas de la page */
}

/* D√©finition de l'animation d'apparition progressive */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }  /* D√©but : transparent et d√©cal√© vers le bas */
  to { opacity: 1; transform: translateY(0); }       /* Fin : opaque et position normale */
}

/* ~~~~~~~~~~~~~~~~~~~~ FORMULAIRE DE CONNEXION & STYLE DE S√âLECTION D'UTILISATEUR ~~~~~~~~~~~~~~~~~~~~ */

/* R√©duit la largeur des √©l√©ments du formulaire (s√©lection d'utilisateur et formulaire manuel) */
#loginPage .readOnlyContent,  /* Conteneur pour les cartes de s√©lection d'utilisateur */
#loginPage form               /* Formulaire de connexion manuelle */
{
  max-width: 32em !important;      /* Largeur maximale du contenu du formulaire */
  padding-top: 2em !important;     /* Espacement en haut */
}

/* Style du titre "S√©lectionner un utilisateur" ou "Se connecter" */
#loginPage .sectionTitle {
  margin: 0 auto 1.2em !important;    /* Centrage et marge en bas */
  text-align: center;                 /* Texte centr√© */
}

/* Styles des cartes individuelles d'utilisateur dans le formulaire de connexion visuel */
#loginPage .squareCard {             /* Cartes de s√©lection d'utilisateur */
    width: 10em !important;           /* Largeur de chaque carte */
}

#loginPage .cardText {
    white-space: normal !important;   /* Permet le retour √† la ligne du texte */
    font-weight: bold;                /* Texte en gras */
    text-shadow: -1px 1px 5px var(--text-color);  /* Ombre port√©e pour meilleure lisibilit√© */
}

/* Style du conteneur d'image utilisateur dans les cartes */
#loginPage .cardImageContainer {
    border-radius: 50% !important;                /* Images circulaires des utilisateurs */
    aspect-ratio: 1 / 1 !important;               /* Assure un cercle parfait */
    background-size: cover !important;            /* Image couvre tout le conteneur */
    background-position: center !important;       /* Image centr√©e */
    transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;  /* Transitions fluides */
    box-shadow: 0 0 10px rgba(255, 255, 255, 0.2);  /* Lueur blanche subtile */
}

/* Supprime l'arri√®re-plan/ombre par d√©faut du padder pour laisser appara√Ætre les styles d'image */
#loginPage .cardPadder {
    background: none !important;      /* Pas d'arri√®re-plan */
    box-shadow: none !important;      /* Pas d'ombre */
}

/* Zoom fluide & lueur am√©lior√©e au survol */
#loginPage .squareCard:hover .cardImageContainer {
    transform: scale(1.08) !important;   /* Zoom de 8% au survol */
    box-shadow: 0 0 15px rgba(255, 255, 255, 0.4), 0 0 20px var(--primary-accent-color) !important;  /* Lueur blanche + lueur color√©e */
}

/* ~~~~~~~~~~~~~~~~~~~~ QUICK CONNECT & STYLE DU DIALOGUE DE CONNEXION MANUELLE ~~~~~~~~~~~~~~~~~~~~ */
/* Style de la bo√Æte de dialogue qui appara√Æt pour Quick Connect ou la saisie manuelle du mot de passe */

/* S'applique au dialogue principal quand la page de connexion est visible */
body:has(#loginPage:not(.hide)) .dialogContainer .formDialog {
  border-radius: 60px !important;     /* Dialogue tr√®s arrondi */
}

/* Style du pied de page du dialogue (contenant les boutons) */
body:has(#loginPage:not(.hide)) .dialogContainer .formDialogFooter .emby-button {
  background-color: var(--primary-accent-color) !important;  /* Couleur d'accent pour les boutons */
  color: white !important;                                   /* Texte blanc */
}

/* Style de l'en-t√™te du dialogue */
body:has(#loginPage:not(.hide)) .formDialogHeader {
  background-color: var(--primary-accent-color) !important;  /* Couleur d'accent pour l'en-t√™te */
  border-top-left-radius: 60px;      /* Correspond √† l'arrondi du dialogue */
  border-top-right-radius: 60px;     /* Correspond √† l'arrondi du dialogue */
  padding: 1em;                       /* Espacement int√©rieur */
  margin-left: .2em !important;       /* L√©g√®re marge √† gauche */
  color: var(--text-color);           /* Couleur du texte */
}

/* Style du texte du titre dans l'en-t√™te du dialogue */
body:has(#loginPage:not(.hide)) .formDialogHeaderTitle {
  font-size: 1.5em;                   /* Taille de police agrandie */
  font-weight: bold;                  /* Texte en gras */
}

/* Style de la zone de contenu interne du dialogue */
body:has(#loginPage:not(.hide)) .dialogContentInner {
  padding-top: 2em;                   /* Espacement en haut */
  font-weight: bold;                  /* Texte en gras */
}

/* ~~~~~~~~~~~~~~~~~~~~ MASQUAGE DES √âL√âMENTS PAR D√âFAUT ~~~~~~~~~~~~~~~~~~~~ */

/* Masque les boutons "Connexion manuelle" et "Mot de passe oubli√©" sur l'√©cran principal de s√©lection d'utilisateur */
#loginPage .raised.cancel.block.btnManual.emby-button,
#loginPage .raised.cancel.block.btnForgotPassword.emby-button {
    display: none;                    /* √âl√©ment masqu√© */
}

/* Masque l'en-t√™te par d√©faut (y compris le menu hamburger) sur la page de connexion */
body:has(#loginPage:not(.hide)) .headerTop {
    display: none !important;         /* En-t√™te masqu√© */
}

/* Ajuste l'espacement pour les pages autonomes quand l'en-t√™te est masqu√© */
body:has(#loginPage:not(.hide)) .standalonePage {
    padding-top: 1em !important;      /* R√©duit l'espacement en haut */
}

/* ~~~~~~~~~~~~~~~~~~~~ REMPLACEMENT DU LOGO POUR "VEUILLEZ VOUS CONNECTER" ~~~~~~~~~~~~~~~~~~~~ */
/* Remplace le texte H1 par d√©faut "Veuillez vous connecter" par un logo */

/* Style g√©n√©ral des √©l√©ments H1 sur la page de connexion (cible le texte "Veuillez vous connecter") */
#loginPage h1 {
  color: #ffffff00;                   /* Rend le texte transparent */
  overflow: hidden;                   /* Cache le d√©bordement */
  white-space: nowrap;                /* Emp√™che le retour √† la ligne */
  display: block !important;          /* Affichage en bloc */
  height: 80px;                       /* Hauteur d√©finie pour le conteneur du logo */
  line-height: normal;                /* Hauteur de ligne normale */
  margin: 10px auto !important;       /* Centrage et marge verticale */
  text-align: center !important;      /* Texte centr√© */
  position: relative;                 /* Position relative pour le pseudo-√©l√©ment */
  padding: 20px 0 10px 0;            /* Espacement interne */
  border: none;                       /* Pas de bordure */
}

/* Utilise un pseudo-√©l√©ment pour afficher le logo */
#loginPage h1::before {
  content: '' !important;                          /* Contenu vide pour l'image */
  display: block !important;                       /* Affichage en bloc */
  width: 100% !important;                          /* Pleine largeur */
  height: 80px !important;                         /* Hauteur du logo */
  background: var(--logo) no-repeat center center !important;  /* Utilise la variable --logo */
  background-size: contain !important;             /* Logo s'adapte sans d√©formation */
  text-indent: 0;                                  /* R√©initialise l'indentation si pr√©sente */
}

/* Ajuste le .sectionTitle (utilis√© pour "S√©lectionner un utilisateur" / "Se connecter") quand le logo remplace H1 */
#loginPage .sectionTitle {
  margin: -10px auto 1.2em !important;  /* Marge n√©gative en haut pour remonter l√©g√®rement */
  text-align: center;                   /* Texte centr√© */
  padding: 0;                            /* Pas d'espacement interne */
}

/* ~~~~~~~~~~~~~~~~~~~~ DISCLAIMER & TEXTE DE PIED DE PAGE ~~~~~~~~~~~~~~~~~~~~ */

/* Style du texte de disclaimer de connexion si pr√©sent */
.loginDisclaimer p {
    text-align: left !important;                      /* Alignement √† gauche */
    font-size: 100% !important;                       /* Taille normale */
    text-shadow: -1px 1px 12px var(--text-color);    /* Ombre port√©e pour lisibilit√© */
}

/* Ajoute un message de pied de page personnalis√© √† la page de connexion */
#loginPage::after {
  content: var(--footer-message, "");     /* Contenu depuis la variable CSS */
  display: block;                         /* Affichage en bloc */
  text-align: center;                     /* Texte centr√© */
  font-size: 1em;                         /* Taille normale */
  color: #fff;                            /* Texte blanc */
  opacity: 0.5;                           /* Texte subtil √† 50% d'opacit√© */
  text-shadow: -1px 1px 5px black;       /* Ombre port√©e noire */
  margin-top: 1em;                        /* Marge en haut */
}

/* ~~~~~~~~~~~~~~~~~~~~ PERSONNALISATIONS DU FORMULAIRE DE CONNEXION MANUELLE ~~~~~~~~~~~~~~~~~~~~ */
/* Styles sp√©cifiques aux champs et boutons du formulaire de connexion manuelle (nom d'utilisateur/mot de passe) */

/* Masque le texte original des labels et boutons pour les remplacer par des pseudo-√©l√©ments ::after */
#loginPage .checkboxLabel,
#loginPage button.emby-button[type="submit"] span,
#loginPage button.emby-button[type="button"].btnCancel span,
#loginPage button.emby-button[type="button"].btnQuick span {
  font-size: 0;                           /* Taille de police √† z√©ro = invisible */
}

/* Style des labels des champs de saisie (ex: "Utilisateur", "Mot de passe") */
#loginPage .inputLabel {
    color: var(--primary-accent-color);   /* Couleur d'accent */
    font-weight: bolder;                  /* Texte tr√®s gras */
}

/* Texte personnalis√© pour le label de la checkbox "Se souvenir de moi" */
#loginPage .checkboxLabel::after {
  content: "Anti-amn√©sie de mot de passe ! üìù";  /* Texte personnalis√© humoristique */
  font-size: 15px !important;                     /* Taille de police r√©elle */
  font-family: inherit;                           /* H√©rite de la police */
  color: #fff;                                    /* Texte blanc */
}

/* Style des champs de saisie du formulaire de connexion manuelle */
#loginPage .emby-input {
  color: var(--primary-accent-color);     /* Couleur du texte saisi */
  transition: all 0.3s ease-in-out;       /* Transitions fluides */
  border-radius: 5px;                     /* Coins arrondis */
  padding: 12px;                          /* Espacement interne */
  background-color: #fff;                 /* Fond blanc pour les champs */
  border: 1px solid #ddd;                 /* Bordure gris clair */
}

/* Effet de survol pour le conteneur de la checkbox "Se souvenir de moi" */
#loginPage .checkboxContainer:hover {
  color: var(--primary-accent-color) !important;  /* Change la couleur du label au survol */
}

/* Texte personnalis√© et style pour le bouton "Se connecter" (submit) */
#loginPage button.emby-button[type="submit"] span::after {
  content: "Entre dans la Matrice ! üåÄ" !important;  /* Texte personnalis√© Matrix */
  font-size: 16px !important;                         /* Taille de police */
  font-family: inherit;                               /* H√©rite de la police */
}
#loginPage button.emby-button[type="submit"] {
  background-color: #28a745a8 !important;   /* Vert semi-transparent */
  color: var(--text-color) !important;      /* Couleur du texte */
}
#loginPage button.emby-button[type="submit"]:hover {
  background-color: #28a745 !important;     /* Vert opaque au survol */
  color: white !important;                  /* Texte blanc au survol */
  transition: background-color 0.3s ease, transform 0.3s ease;  /* Transitions fluides */
  transform: scale(1.05);                   /* L√©ger effet de zoom */
}

/* Texte personnalis√© et style pour le bouton "Annuler" */
#loginPage button.emby-button[type="button"].btnCancel span::after {
  content: "Annuler la mission ! ‚ò†Ô∏è" !important;  /* Texte personnalis√© dramatique */
  font-size: 16px !important;                     /* Taille de police */
  font-family: inherit;                           /* H√©rite de la police */
}
#loginPage button.emby-button[type="button"].btnCancel {
  background-color: #dc3545a8 !important;   /* Rouge semi-transparent */
  color: var(--text-color) !important;      /* Couleur du texte */
}
#loginPage button.emby-button[type="button"].btnCancel:hover {
  background-color: #dc3545 !important;     /* Rouge opaque au survol */
  color: white !important;                  /* Texte blanc au survol */
  transition: background-color 0.3s ease, transform 0.3s ease;  /* Transitions fluides */
  transform: scale(1.05);                   /* L√©ger effet de zoom */
}

/* Texte personnalis√© et style pour le bouton "Quick Connect" */
#loginPage button.emby-button[type="button"].btnQuick span::after {
  content: "Connexion Rapide üîó" !important;  /* Texte personnalis√© */
  font-size: 16px !important;                 /* Taille de police */
  font-family: inherit;                       /* H√©rite de la police */
  color: var(--text-color) !important;        /* Couleur du texte */
}
#loginPage button.emby-button[type="button"].btnQuick {
  background-color: var(--primary-accent-color) !important;  /* Utilise la couleur d'accent du th√®me */
}

#loginPage button.emby-button[type="button"].btnQuick:hover {
  background-color: var(--secondary-accent-color) !important;  /* Couleur secondaire au survol */
  color: white !important;                                     /* Texte blanc au survol */
  transition: background-color 0.3s ease, transform 0.3s ease; /* Transitions fluides */
  transform: scale(1.05);                                      /* L√©ger effet de zoom */
}

/* ~~~~~~~~~~~~~~~~~~~~ FORMULAIRE DE CONNEXION MANUELLE - Afficher l'image utilisateur et masquer le nom ~~~~~~~~~~~~~~~~~~~~ */
/* fonctionne uniquement avec un JavaScript personnalis√© qui d√©finit l'image utilisateur dans le conteneur et masque le nom */

/* Style pour le conteneur de l'image */
#userProfileImageContainer {
    text-align: center;               /* Centr√© */
}

/* Style pour l'image elle-m√™me */
#userProfileImageContainer img {
    width: 125px;                     /* Largeur de l'image */
    height: 125px;                    /* Hauteur de l'image */
    border-radius: 50%;               /* Image circulaire */
    object-fit: cover;                /* Image couvre le conteneur sans d√©formation */
    border: 1px solid var(--secondary-accent-color);  /* Bordure color√©e */
}


/* ~~~~~~~~~~~~~~~~~~~~ STYLE RESPONSIVE (MAX-WIDTH: 600px) ~~~~~~~~~~~~~~~~~~~~ */
@media (max-width: 600px) {
  /* Ajuste la largeur du formulaire et des conteneurs pour les petits √©crans */
  #loginPage .readOnlyContent,
  #loginPage form {
      max-width: 90% !important;      /* Largeur maximale de 90% sur mobile */
  }
  #loginPage .padded-left.padded-right.padded-bottom-page {
      width: 95% !important;          /* Largeur de 95% pour la bo√Æte */
      padding: 1em !important;        /* R√©duit l'espacement sur petits √©crans */
  }

  /* Centre les cartes utilisateur sur les petits √©crans */
  #loginPage .users .itemsContainer {
    justify-content: center !important;  /* Centrage */
  }

  /* Ajuste la taille et marge des cartes utilisateur pour une meilleure disposition sur petits √©crans */
  #loginPage .squareCard {
    width: 30% !important;            /* Largeur r√©duite pour les cartes */
    margin: 1% !important;            /* Petite marge autour des cartes */
  }

  /* Ajuste la taille du logo sur petits √©crans */
  #loginPage h1::before {
      height: 60px;                   /* Hauteur r√©duite pour le logo */
  }
}
