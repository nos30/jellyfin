/* Variables globales */
:root {
    --accent: 6, 161, 217;
    --selection: 170, 95, 200;
    --rounding: 12px;
    --font-scale: clamp(1rem, 0.75vw + 0.85rem, 1.25rem);
    --space-unit: 0.5rem;
    --transition-fast: 0.2s;
    --transition-medium: 0.3s;
    --shadow-elevation: 0 4px 12px rgba(0, 0, 0, 0.25);
  }
  
  /* Reset et base */
  html {
    font-family: "Sofia Sans", sans-serif;
    font-size: var(--font-scale);
    color: rgba(255, 255, 255, 0.87);
    scroll-behavior: smooth;
  }
  
  body {
    background: #0f031f;
    -webkit-font-smoothing: antialiased;
  }
  
  /* Layouts responsives */
  .layout-desktop, .layout-tv, .layout-mobile {
    --responsive-padding: max(2vw, 1rem);
    
    .itemsContainer {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: var(--space-unit);
      padding: var(--responsive-padding);
    }
  }
  
  @media (orientation: portrait) {
    .layout-mobile {
      .itemsContainer {
        grid-template-columns: repeat(2, 1fr);
      }
    }
  }
  
  /* Cartes améliorées */
  .card {
    background: rgba(4, 4, 4, 0.8);
    border-radius: var(--rounding);
    transition: transform var(--transition-fast) ease-in-out;
    
    &:hover {
      transform: scale(1.02);
      box-shadow: var(--shadow-elevation);
    }
  }
  
  /* En-têtes */
  .headerTop {
    padding: var(--space-unit);
    background: rgba(0, 0, 0, 0.9);
    backdrop-filter: blur(15px);
  }
  
  /* Accessibilité améliorée */
  button, a {
    &:focus-visible {
      outline: 2px solid rgba(var(--accent), 0.8);
      outline-offset: 2px;
    }
  }
  
  .progress {
    &::-webkit-progress-value {
      background: rgba(var(--accent), 0.75);
    }
  }
  
  /* Transitions optimisées */
  .textActionButton {
    transition: 
      color var(--transition-fast),
      font-weight var(--transition-medium);
  }
  
  /* Arrière-plans dynamiques */
  .itemBackdrop::after {
    background: linear-gradient(180deg, 
      rgba(0, 0, 0, 0.6) 0%,
      rgba(0, 0, 0, 0.3) 50%,
      rgba(0, 0, 0, 0.6) 100%
    );
  }
  
  /* Formulaire accessible */
  .emby-input, .emby-select {
    background: rgba(0, 0, 0, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.22);
    transition: background var(--transition-fast);
    
    &:focus {
      background: rgba(0, 0, 0, 0.4);
    }
  }
  
  /* Animation performante */
  @keyframes pulse {
    0%, 100% { transform: scale(0.95); opacity: 0.8; }
    50% { transform: scale(1); opacity: 1; }
  }
  
  /* Navigation principale */
  .mainDrawer {
    background: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(15px);
    
    .navMenuOption {
      border-radius: var(--rounding);
      transition: background var(--transition-fast);
      
      &:hover {
        background: rgba(255, 255, 255, 0.1);
      }
    }
  }
  
  /* Médias responsives */
  .cardImage {
    aspect-ratio: 2/3;
    width: 100%;
    height: auto;
    object-fit: cover;
  }
  
  /* Améliorations mobiles */
  @media (hover: none) and (pointer: coarse) {
    .listItem {
      min-height: 44px;
      padding: var(--space-unit);
    }
  }
  
  /* Performance des effets visuels */
  .blurhash-canvas {
    filter: opacity(60%) saturate(60%);
    will-change: filter;
  }
  
  /* Système de couleurs */
  .countIndicator {
    background: linear-gradient(90deg, 
      hsl(270, 85%, 25%) 0%,
      hsl(220, 85%, 45%) 100%
    );
  }
  
  /* Compatibilité navigateur */
  @supports (backdrop-filter: blur(15px)) {
    .dialog, .toast {
      backdrop-filter: blur(15px);
    }
  }
  
  /* Version compacte des styles existants */
  .detailPagePrimaryContainer::before,
  .pageTabContent.is-active::before {
    background: url(https://i.imgur.com/dGBenC7.jpeg) center/cover fixed;
    opacity: 0.85;
  }
  
  .headerTabs .emby-tab-button {
    width: clamp(120px, 15vw, 160px);
  }
  
  .raised, .fab {
    background: rgba(4, 4, 4, 0.8);
    transition: all var(--transition-fast);
    
    &:hover {
      background: linear-gradient(90deg,
        rgba(168, 6, 217, 0.3),
        rgba(var(--accent), 0.6)
      );
    }
  }
  
  ::-webkit-scrollbar-thumb {
    background: rgba(var(--accent), 0.8);
    border-radius: var(--rounding);
  }
  
